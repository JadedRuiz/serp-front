<div class="orders-cart__modal">
  <button
    class="orders-cart__modal__close"
    (click)="useToggleModalVisibility()"
  >
    <i class="fas fa-times"></i>
  </button>
  <div class="orders-modal__client" *ngIf="selectClientModal">
    <h3 class="title text-center">¿Para qué cliente es el pedido?</h3>
    <!-- Autocomplete de clientes -->
    <div class="ng-autocomplete">
      <ng-autocomplete
        [data]="clients"
        [searchKeyword]="keyword"
        placeholder="Busca y selecciona el cliente"
        [itemTemplate]="itemTemplate"
        [notFoundTemplate]="notFoundTemplate"
        [minQueryLength]="3"
        [historyListMaxNumber]="10"
      >
      </ng-autocomplete>
      <ng-template #itemTemplate let-item>
        <a [innerHTML]="item.name"></a>
      </ng-template>
      <ng-template #notFoundTemplate let-notFound>
        <div [innerHTML]="notFound"></div>
      </ng-template>
    </div>
    <!-- Termina Autocomplete -->
    <div class="orders-cart__client__buttons">
      <button
        class="orders-cart__client__btn-cancel"
        (click)="useToggleModalVisibility()"
      >
        Cancelar
      </button>
      <button
        class="orders-cart__client__btn-confirm"
        (click)="confirmClient()"
      >
        Confirmar
      </button>
    </div>
  </div>
  <div class="orders-modal__adresses" *ngIf="selectAdressModal">
    <h3 class="title text-center">Selecciona una dirección</h3>
    <div class="orders-cart__adresses-container">
      <div class="orders-cart__adresses-list">
        <div class="orders-cart__adress" *ngFor="let adress of adresses">
          <label>
            <input
              type="radio"
              name="adress"
              [(ngModel)]="adressSelected"
              [value]="adress"
            />
            {{ adress.street }}, {{ adress.city }}
          </label>
        </div>
      </div>
    </div>
    <span class="orders-cart__adresses-add" (click)="createAdress()"
      >Añadir una dirección</span
    >
    <button
      class="orders-cart__adress-submit"
      type="submit"
      [disabled]="!adressSelected"
      [routerLink]="['/pedidos-realizados']"
    >
      Continuar
    </button>
  </div>
  <div *ngIf="createAdressModal" class="orders-cart__form-container">
    <h3 class="title text-center">Añadir una dirección nueva</h3>
    <form class="orders-cart__form">
      <div class="orders-cart__form-section1">
        <div>
          <label for="pais">País:</label>
          <input type="text" id="pais" name="pais" required />
        </div>
        <div>
          <label for="estado">Estado:</label>
          <input type="text" id="estado" name="estado" required />
        </div>
      </div>
      <div class="orders-cart__form-section2">
        <div>
          <label for="ciudad">Ciudad:</label>
          <input type="text" id="ciudad" name="ciudad" required />
        </div>
        <div>
          <label for="colonia">Colonia:</label>
          <input type="text" id="colonia" name="colonia" required />
        </div>
      </div>
      <div class="orders-cart__form-section3">
        <div>
          <label for="calle">Calle y Número:</label>
          <input type="text" id="calle" name="calle" required />
        </div>
        <div>
          <label for="codigoPostal">Código Postal:</label>
          <input type="text" id="codigoPostal" name="codigoPostal" required />
        </div>
      </div>
      <button type="submit">Crear dirección</button>
    </form>
  </div>
</div>
