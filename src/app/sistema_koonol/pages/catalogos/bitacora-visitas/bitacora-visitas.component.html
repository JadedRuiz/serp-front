<div class="container">
  <!-- HEADER DE LA PÁGINA -->
  <header class="w-100 d-flex justify-content-center mb-5">
    <h3 class="title">Bitácora de visitas</h3>
  </header>
  <!-- CUERPO DE LA PÁGINA -->
  <section class="w-100 row m-0">
    <!-- LADO IZQUIERDO DE LA PÁGINA (DESKTOP) -- CONTENEDOR DE CARDS -->
    <div class="d-flex justify-content-center justify-content-md-start col-12 col-md-6">
      <!-- CARDS -->
      <div
        class="border"
        [ngStyle]="{ height: '250px', width: 'min(100%, 500px)' }"
        *ngFor="let registro of visitasDeVendedores"
      >
        <div class="card-body">
          <!-- SECCIÓN 1 -- INFORMACIÓN BÁSICA -->
          <section class="d-flex justify-content-between">
            <h3 class="subtitle mb-3">
              <b>{{ registro.vendedor }}</b>
            </h3>
            <label [ngStyle]="{ color: 'steelblue', cursor: 'pointer' }">
              Ruta
              <input
                type="checkbox"
                [ngStyle]="{
                  'margin-left': '3px',
                  transform: 'translateY(2px)'
                }"
              />
            </label>
          </section>
          <h5 class="pb-2 border-bottom">Visitas:</h5>
          <!-- SECCIÓN 2 -- REGISTRO DE VISITAS -->
          <section
            class="position-relative"
            [ngStyle]="{ height: '100px', 'overflow-y': 'auto' }"
          >
            <ul
              class="d-flex flex-column p-1 border-bottom"
              *ngFor="let visita of registro.visitas"
            >
              <!-- INFORMACIÓN -->
              <li class="p-1"><b>Cliente:</b> {{ visita.cliente }}</li>
              <li class="p-1">Recepción: {{ visita.contacto }}</li>
              <li class="p-1">Fecha y hora: {{ visita.fecha_visita }}</li>
              <!-- ÍCONOS -->
              <svg
                *ngIf="visita.tienda == 1"
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                fill="currentColor"
                class="bi bi-shop"
                viewBox="0 0 16 16"
                title="La visita fue presencial"
              >
                <path
                  d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"
                />
              </svg>
              <svg
                *ngIf="visita.tienda == 0"
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                fill="currentColor"
                class="bi bi-buildings"
                viewBox="0 0 16 16"
                title="La reunión fue remota"
              >
                <path
                  d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022ZM6 8.694 1 10.36V15h5V8.694ZM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15Z"
                />
                <path
                  d="M2 11h1v1H2v-1Zm2 0h1v1H4v-1Zm-2 2h1v1H2v-1Zm2 0h1v1H4v-1Zm4-4h1v1H8V9Zm2 0h1v1h-1V9Zm-2 2h1v1H8v-1Zm2 0h1v1h-1v-1Zm2-2h1v1h-1V9Zm0 2h1v1h-1v-1ZM8 7h1v1H8V7Zm2 0h1v1h-1V7Zm2 0h1v1h-1V7ZM8 5h1v1H8V5Zm2 0h1v1h-1V5Zm2 0h1v1h-1V5Zm0-2h1v1h-1V3Z"
                />
              </svg>
            </ul>
          </section>
        </div>
      </div>
    </div>
    <!-- LADO DERECHO DE LA PÁGINA (DESKTOP) -- MAPA -->
    <div
      class="sidebar-map p-2"
      [ngClass]="{
        'sidebar-map': true,
        open: isMapVisible,
        hidden: !isMapVisible
      }"
    >
      <!-- HEADER -->
      <header class="d-flex position-relative">
        <!-- TÍTULO -->
        <h3 class="title mb-1 text-center w-100">Rutas</h3>
        <!-- CERRAR MAPA -->
        <button
          class="icon-btn position-absolute"
          [ngStyle]="{ right: '10px' }"
          (click)="toggleMapVisibility()"
        >
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
      </header>
      <!-- CUERPO -->
      <app-maps class="d-flex" [ngStyle]="{ height: '90%' }"></app-maps>
    </div>
    <!-- ABRIR MAPA -->
    <i class="fa fa-angle-double-left" (click)="toggleMapVisibility()"></i>
  </section>
</div>
